---
title: HTTP协议进化史
category: 网络
tag:
  - HTTP1.0
  - HTTP2.0
  - HTTP3.0
comment: false
---

# HTTP协议进化史
HTTP是支持浏览器与服务器进行通信的协议，随着浏览器的发展，HTTP也会为了适应新的形式而不断进化，接下来对早期的HTTP/0.9到面向未来的HTTP/3.0依次进行介绍。
## HTTP/0.9
### 概念
0.9协议是适用于各种数据信息的简洁快速协议，它是一种用来交换信息的无序协议，仅仅限于ASCII 字符流。

### 建立连接过程
- DNS解析查询IP地址
- TCP三次握手建立连接
- 客户端发送请求
- 服务端响应
- 四次挥手断开连接

### 存在问题
最重要的缺点是由于传输内容仅咸鱼ASCII字符流所以无法传输其他类型的文件。

## HTTP/1.0
它是一个面向事务的协议，该协议对每一次请求/响应建立并拆除一次连接。它提供了请求头和响应头用来支持客户端与服务端对文件类型、文件编码、文件压缩方式、语言的识别；同时提供了用来判断请求状态的状态码；也提供了Cache机制；以及用户代理（User Agent）。

### 建立连接过程
- DNS解析查询IP地址
- TCP三次握手建立连接
- 客户端发送请求（请求行、请求头）
- 服务器响应并返回（响应体、响应头）
- 四次挥手断开连接

### 存在问题
- 每次请求都要建立一次TCP连接，增加请求的总体耗时。
- 登陆状态只能保存在服务端，当用户量巨大时很明显会增加服务器的压力。
- 使用响应头Content-length设置完整的数据大小，但是很多页面的内容都是动态生成的，因此在传输数据之前并不知道最终的数据大小，这就导致了浏览器不知道何时会接收完所有的文件数据。

## HTTP/1.1
为了解决以上的缺点，提出了HTTP/1.1，优化了TCP连接在多个请求时只需要进行一次TCP连接，只要是浏览器或者服务器未明确说明断开就会一直存在，可以通过Connection字段控制连接、断开状态；同时提出了Cookie机制，服务端可以通过set-cookie并且设置属性为http-only的cookie来保存用户状态。

### 新增特性
- Cookie
- Cache机制，会将已经下载的文件缓存下来
- Chunk Transfer机制，将数据分割成任意大小的数据块，每个数据块发送时会附上上个数据块的长度，最后使用一个零长度的块作为发送数据完成的标志
- 持久连接
- 浏览器为每个域名最多同时维护 6 个 TCP 持久连接

### 存在问题
- 容器出现队头阻塞问题，即当我们发送数据包时，某一个数据包丢失会一直等待这个数据包重传，所以会出现队头阻塞的问题。


## HTTP/2.0

### 新增特性
- 多路复用


## HTTP/3.0